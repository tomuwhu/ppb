<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.6.6/angular.min.js'></script>
<script>
angular
  .module( 'a', [] )
  .controller( 'c', ($scope) => {
 
    $scope.t=2
  } )
</script>

<script src="https://s3.amazonaws.com/stitch-sdks/js/library/v3/stable/stitch.min.js"></script>
<script>
  const clientPromise = stitch.StitchClientFactory.create('tom-xxvtd');
  clientPromise.then(client => {
    const db = client.service('mongodb', 'mongodb-atlas').db('p1');
    client.login().then(() =>
      db.collection('thing').updateOne({owner_id: client.authedId()}, {$set:{number:42}}, {upsert:true})
    ).then(()=>
      db.collection('thing').find({owner_id: client.authedId()}).limit(100).execute()
    ).then(docs => {
      console.log("Found docs", docs)
      console.log("[MongoDB Stitch] Connected to Stitch")
    }).catch(err => {
      console.error(err)
    });
  });
</script>


<meta charset="utf-8">
<body ng-app="a" ng-controller="c">
Hell√≥ {{t}}
</body>